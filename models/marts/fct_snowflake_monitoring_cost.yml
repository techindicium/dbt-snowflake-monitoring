version: 2
models:
  - name: fct_snowflake_monitoring_cost
    description: Tabela de fatos contendo métricas de consultas.
    columns:
      - name: query_id
        description: ID da consulta.
        tests:
          - not_null
          - unique

      - name: start_time
        description: Horário de início da consulta.
        tests:
          - not_null

      - name: end_time
        description: Horário de término da consulta.
        tests:
          - not_null

      - name: execution_start_time
        description: Horário de início da execução da consulta.
        tests:
          - not_null

      - name: compute_cost
        description: Custo de computação da consulta.
        tests:
          - not_null

      - name: compute_credits
        description: Créditos de computação utilizados pela consulta.

      - name: query_acceleration_cost
        description: Custo de aceleração de consulta.

      - name: query_acceleration_credits
        description: Créditos de aceleração de consulta.

      - name: credits_used_cloud_services
        description: Créditos utilizados para serviços em nuvem pela consulta.

      - name: ran_on_warehouse
        description: Indica se a consulta foi executada no warehouse.

      - name: cloud_services_cost
        description: Custo de serviços em nuvem da consulta.

